First class.
create three machine- 
sudo swapoff -a
nc 127.0.0.1 6443
swapoff /etc/fstab
mount -a
check the version of OS- 
lsb_release -a
OS=xUbuntu_22.04
set the environment variable. 
run the script on all the machine. 
scripts/common-1.28.0-without-proxy
*********************************************************************************************************************
kubernetes command 
1. kubeadm config images pull to pull the images 
---> kubeadm config images pull
---> crictl images
2. kubeadm init --apiserver-advertise-address 10.0.0.5 --pod-network-cidr 172.16.0.0/16
3. create calico.yaml
  ---> scripts/calico.yaml
  ---> kubectl apply -f calico.yaml

4. For auto completation of kubectl command 
    run the below command- source <(kubectl completion bash) 
    echo "source <(kubectl completion bash)" >> ~/.bashrc
    
5- recreate the token-
  ---> kubeadm token create --print-join-command
      apply the token on all the worker server- 
      
6. kubectl get node
7. kubectl -n kube-system get pods
8. kubectl get node -o wide
9. configure the private IP on the workier node for the pods. 
    vim /etc/default/kubelet
  ## add this line ##
  KUBELET_CONFIG_ARGS='--node-ip=10.0.0.100'
systemctl daemon-reload
systemctl restart kubelet
kubectl describe node manager
to provide all the details.
      
******************************************************************************************************************************
Quality of services- 
      best effor (if we not mentioned the cpu and memeory in the pods)
      brustable (we mentioned the cpu and memory in the pod min, max)
      guranteed- (we mentioed the cpu and memory in fixed way)

  OOM Killer- 
      kubectl top nodes
      install the metric server from git hub ch-02-pod-scheduling/metric-server.yaml
      increase the CPU use the below curl -
       while true; do curl http://172.16.161.72 ; done
  to increase the memory of the application use below script 
      ch-01-pods-containers/pod-with-memory-exceed.yml

      OOM- Aay process memory allocated if trying to calim more. OOM come in picture restrt the container. 
      exit code 137
      Resources 
      CPU- comes under comprasiable (if process exceed cpu, then cpu send throtling error and process will be slow)
      Memory- comes under non comprasable (if memory excced by any process then restart the application by OOM)
******************************************************************************************************************************
namespace, resources quota, limit ranges
Name clash- 
resources allocation-
commuincation- 
namespace-- isolation--- virtual cluster filer
      kubectl get ns
      kubectl create ns dev
      kubectl -n test  get pod
      kubectl get pod -n dev
      
      kubectl describe ns dev
      kubectl create quota --help

      coppy the quota from yaml from git hub
      ch-05-namespaces/namespace-resourcequota.yml
      
      kubectl -n test apply -f test-quota.yaml
      kubectl -n dev get pods
      kubectl -n dev apply -f namespacepod.yaml

      Limit range-
      per pods- min, max, default
      
******************************************************************************************************************************

      Network policy- 
      1. run the pod in three namespace- 
          kubectl -n staging apply -f namespacepod3.yaml
      2. check pod in namespace-  
          kubectl -n staging get pod -o wide
      
      
      
      


      
      



